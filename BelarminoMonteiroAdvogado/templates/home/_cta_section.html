<section class="cta-universal-wrapper" data-aos="fade-up">
    <div class="container">
        
        <div class="cta-card">
            
            <div class="cta-decor-circle circle-1"></div>
            <div class="cta-decor-circle circle-2"></div>
            <div class="cta-bg-overlay"></div>

            <div class="row align-items-center position-relative z-2">
                
                <div class="col-lg-7 text-center text-lg-start mb-4 mb-lg-0">
                    <h2 class="cta-title">
                        {{ cta_title | default('Precisa de Orientação Jurídica?') }}
                    </h2>
                    <p class="cta-subtitle">
                        {{ cta_subtitle | default('Não deixe suas dúvidas para depois. Nossa equipe está pronta para analisar o seu caso com total sigilo, ética e dedicação.') }}
                    </p>
                </div>

                <div class="col-lg-5 text-center text-lg-end">
                    <div class="d-flex flex-column flex-md-row gap-3 justify-content-center justify-content-lg-end">
                        
                        <a href="https://wa.me/558597698475" target="_blank" class="btn-cta-primary">
                            <i class="bi bi-whatsapp"></i> Falar no WhatsApp
                        </a>

                        <a href="{{ url_for('main.pagina_contato') }}" class="btn-cta-outline">
                            Agendar Consulta
                        </a>

                    </div>
                    
                    <div class="mt-3 text-white-50 small cta-microcopy">
                        <i class="bi bi-clock me-1"></i> Resposta rápida em horário comercial
                    </div>
                </div>

            </div>
        </div>

    </div>
</section>

<style>
    /* --- VARIÁVEIS LOCAIS (Sistema Adaptativo) --- */
    .cta-universal-wrapper {
        --cta-bg-gradient: linear-gradient(135deg, #111111 0%, #000000 100%);
        --cta-accent: var(--prm-accent-red, #b92027); /* Herda do global */
        --cta-text: #ffffff;
        --cta-glass-border: rgba(255, 255, 255, 0.1);
        --cta-glow: rgba(185, 32, 39, 0.3);
    }

    /* Ajuste para Temas Específicos */
    body.option2 .cta-universal-wrapper { 
        --cta-bg-gradient: linear-gradient(135deg, #002F49 0%, #001a29 100%); 
        --cta-accent: #ffffff; 
        --cta-glow: rgba(0, 47, 73, 0.5);
    }
    body.option3 .cta-universal-wrapper { 
        --cta-bg-gradient: linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%); 
        --cta-accent: #D4AF37; 
        --cta-glow: rgba(212, 175, 55, 0.2);
    }
    body.option4 .cta-universal-wrapper { 
        --cta-bg-gradient: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); 
        --cta-accent: #38bdf8; 
        --cta-glow: rgba(56, 189, 248, 0.2);
    }

    /* --- ESTRUTURA --- */
    .cta-universal-wrapper {
        padding: 80px 0;
        position: relative;
        overflow: hidden;
        /* Garante espaçamento se for o último elemento antes do footer */
        margin-bottom: 0; 
    }

    .cta-card {
        background: var(--cta-bg-gradient);
        border-radius: 24px;
        padding: 60px 50px;
        position: relative;
        overflow: hidden;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.35);
        border: 1px solid var(--cta-glass-border);
        transition: transform 0.4s ease;
    }
    
    .cta-card:hover {
        transform: translateY(-5px); /* Efeito de elevação sutil */
    }

    /* --- DECORAÇÃO (Luzes Ambientais) --- */
    .cta-decor-circle {
        position: absolute; border-radius: 50%; 
        filter: blur(80px); opacity: 0.4; pointer-events: none;
    }
    .circle-1 {
        width: 300px; height: 300px; background: var(--cta-accent);
        top: -100px; left: -100px;
        animation: pulseGlow 5s infinite alternate;
    }
    .circle-2 {
        width: 250px; height: 250px; background: rgba(255,255,255,0.1);
        bottom: -50px; right: -50px;
    }
    
    @keyframes pulseGlow {
        0% { opacity: 0.3; transform: scale(1); }
        100% { opacity: 0.5; transform: scale(1.1); }
    }
    
    .cta-bg-overlay {
        position: absolute; inset: 0;
        /* Padrão de ruído ou grade sutil */
        background-image: radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
        background-size: 20px 20px;
        opacity: 0.5; pointer-events: none;
    }

    /* --- TIPOGRAFIA --- */
    .cta-title {
        color: var(--cta-text);
        font-family: var(--font-primary, serif);
        font-weight: 800; font-size: clamp(1.8rem, 4vw, 2.5rem);
        margin-bottom: 15px; line-height: 1.2;
    }

    .cta-subtitle {
        color: rgba(255, 255, 255, 0.85);
        font-size: 1.1rem; line-height: 1.6; font-weight: 300;
        max-width: 95%;
    }

    /* --- BOTÕES --- */
    .btn-cta-primary {
        background-color: var(--cta-accent);
        color: #fff;
        padding: 16px 32px; border-radius: 50px;
        font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px;
        text-decoration: none; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        display: inline-flex; align-items: center; justify-content: center; gap: 10px;
        border: 2px solid var(--cta-accent);
        white-space: nowrap;
    }
    
    /* Ajuste de cor do texto do botão para temas onde o acento é claro */
    body.option2 .btn-cta-primary, body.option4 .btn-cta-primary { color: #000; }

    .btn-cta-primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px var(--cta-glow);
        filter: brightness(1.1); color: #fff;
        background-color: var(--cta-accent); /* Mantém preenchimento */
    }
    /* Exceção para Option 2/4 no hover para manter contraste */
    body.option2 .btn-cta-primary:hover, body.option4 .btn-cta-primary:hover { color: #000; }


    .btn-cta-outline {
        background: transparent; color: #fff;
        padding: 16px 32px; border-radius: 50px;
        font-weight: 600; text-transform: uppercase;
        text-decoration: none; transition: all 0.3s;
        border: 2px solid rgba(255,255,255,0.3);
        display: inline-flex; align-items: center; justify-content: center;
        white-space: nowrap;
    }
    
    .btn-cta-outline:hover {
        background: rgba(255,255,255,0.1);
        border-color: #fff; color: #fff;
    }

    .cta-microcopy {
        opacity: 0.7; font-size: 0.85rem;
    }

    /* --- RESPONSIVIDADE --- */
    @media (max-width: 991px) {
        .cta-card { padding: 40px 25px; text-align: center; }
        .cta-subtitle { margin: 0 auto 30px; }
        .btn-cta-primary, .btn-cta-outline { width: 100%; }
        .circle-1 { top: -50px; left: 50%; transform: translateX(-50%); }
    }
</style>