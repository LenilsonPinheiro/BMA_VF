<section class="inner-header-universal position-relative" data-aos="fade">
    
    <div class="inner-bg-layer" 
         style="background-image: url('{{ bg_image if bg_image else url_for('static', filename='images/banners/inner_bg_default.jpg') }}');">
    </div>
    
    <div class="inner-overlay"></div>

    <div class="container position-relative z-2 h-100 d-flex flex-column justify-content-center">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                
                <nav aria-label="breadcrumb" class="d-flex justify-content-center mb-3">
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item"><a href="{{ url_for('main.home') }}" class="text-white-50 text-decoration-none small text-uppercase ls-1">Início</a></li>
                        <li class="breadcrumb-item active text-white small text-uppercase ls-1" aria-current="page">{{ title | default('Página') }}</li>
                    </ol>
                </nav>

                <h1 class="inner-title mb-3" data-aos="fade-up" data-aos-delay="100">
                    {{ title | default('Título da Página') }}
                </h1>

                {% if subtitle %}
                <p class="inner-subtitle mb-0" data-aos="fade-up" data-aos-delay="200">
                    {{ subtitle }}
                </p>
                {% endif %}
                
                <div class="inner-decor-line mx-auto mt-4" data-aos="scale-x" data-aos-delay="300"></div>

            </div>
        </div>
    </div>
</section>

<style>
    /* --- VARIÁVEIS LOCAIS (Herdam do Tema Global) --- */
    .inner-header-universal {
        --hdr-height: 45vh;
        --hdr-min-height: 350px;
        --hdr-accent: var(--prm-accent-red, #b92027); /* Fallback Red */
    }

    /* Ajuste de variáveis para temas específicos se necessário */
    body.option3 .inner-header-universal { --hdr-accent: #D4AF37; } /* Gold */
    body.option4 .inner-header-universal { --hdr-accent: #00A335; } /* Tech Green (exemplo) ou Red */

    /* --- ESTRUTURA --- */
    .inner-header-universal {
        height: var(--hdr-height);
        min-height: var(--hdr-min-height);
        overflow: hidden;
        margin-top: 0; /* Base reset */
        display: flex;
        align-items: center;
        background-color: #111; /* Fallback color */
    }

    /* --- LAYERS --- */
    .inner-bg-layer {
        position: absolute; inset: 0;
        background-size: cover;
        background-position: center;
        background-attachment: fixed; /* Parallax Desktop */
        transform: scale(1.05); /* Zoom leve para evitar bordas brancas */
        z-index: 0;
    }
    
    /* Mobile Parallax Fix (Desativa Fixed para performance e bugs iOS) */
    @media (pointer: coarse) {
        .inner-bg-layer { background-attachment: scroll; }
    }

    .inner-overlay {
        position: absolute; inset: 0;
        /* Gradiente: Escuro embaixo para texto, claro em cima para navbar */
        background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.7) 60%, rgba(0,0,0,0.9) 100%);
        z-index: 1;
        backdrop-filter: blur(2px); /* Blur sutil na imagem para foco no texto */
    }

    /* --- TIPOGRAFIA --- */
    .inner-title {
        color: #fff;
        font-family: var(--font-primary, serif); /* Usa a fonte do tema ativo */
        font-weight: 800;
        font-size: clamp(2.5rem, 5vw, 3.8rem);
        letter-spacing: -1px;
        text-shadow: 0 10px 30px rgba(0,0,0,0.5);
        line-height: 1.2;
    }

    .inner-subtitle {
        color: rgba(255, 255, 255, 0.85);
        font-family: var(--font-secondary, sans-serif);
        font-size: clamp(1rem, 2vw, 1.25rem);
        font-weight: 300;
        max-width: 700px;
        margin-left: auto; margin-right: auto;
        line-height: 1.6;
    }

    /* --- DECORAÇÃO --- */
    .inner-decor-line {
        width: 80px; height: 4px;
        background-color: var(--hdr-accent);
        border-radius: 2px;
        box-shadow: 0 0 15px var(--hdr-accent);
    }
    
    /* --- BREADCRUMBS CUSTOM --- */
    .breadcrumb-item + .breadcrumb-item::before {
        color: rgba(255,255,255,0.3);
        content: "•"; /* Bullet point minimalista */
    }
    .breadcrumb-item.active {
        color: var(--hdr-accent) !important;
        font-weight: 700;
    }

    /* --- ANIMAÇÕES (AOS Compatible) --- */
    [data-aos="scale-x"] {
        transform: scaleX(0); transition-property: transform;
    }
    [data-aos="scale-x"].aos-animate {
        transform: scaleX(1);
    }

    /* --- RESPONSIVIDADE --- */
    @media (max-width: 991px) {
        .inner-header-universal {
            /* Compensa a navbar fixa mobile */
            padding-top: 60px;
            --hdr-height: 40vh;
        }
    }
</style>