{% extends "base.html" %}

{% block title %}Fale Conosco - Belarmino Monteiro{% endblock %}
{% block metadescription %}Entre em contato com nossa equipe especializada. Atendimento ágil, sigiloso e estratégico.{% endblock %}

{% block content %}

{% with title="Fale Conosco", subtitle="Estamos prontos para ouvir o seu caso e traçar a melhor estratégia.", bg_image=url_for('static', filename='images/banners/inner_bg_default.jpg') %}
    {% include '_inner_page_header.html' %}
{% endwith %}

<section class="contact-universal-wrapper">
    <div class="container">
        <div class="row g-5">
            
            <div class="col-lg-5" data-aos="fade-right">
                <div class="contact-info-card">
                    <h3 class="info-title">Canais de Atendimento</h3>
                    <p class="info-desc">
                        Escolha a forma mais conveniente para você. Nossa equipe retornará o mais breve possível.
                    </p>

                    <div class="info-list">
                        <div class="info-item">
                            <div class="icon-box"><i class="bi bi-geo-alt-fill"></i></div>
                            <div>
                                <span class="label">Sede</span>
                                <p class="value">Av. Santos Dumont, 1234<br>Aldeota, Fortaleza - CE</p>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="icon-box"><i class="bi bi-whatsapp"></i></div>
                            <div>
                                <span class="label">WhatsApp (Rápido)</span>
                                <p class="value">
                                    <a href="https://wa.me/558597698475" target="_blank" class="text-reset text-decoration-none hover-accent">
                                        +55 (85) 9 7698-8475
                                    </a>
                                </p>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="icon-box"><i class="bi bi-envelope-fill"></i></div>
                            <div>
                                <span class="label">E-mail</span>
                                <p class="value">
                                    <a href="mailto:contato@belarminomonteiro.com.br" class="text-reset text-decoration-none hover-accent">
                                        contato@belarminomonteiro.com.br
                                    </a>
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="hours-box">
                        <i class="bi bi-clock me-2"></i> Seg - Sex: 08h às 18h
                    </div>

                    <div class="social-links mt-4">
                        <a href="#" class="social-btn"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="social-btn"><i class="bi bi-linkedin"></i></a>
                    </div>

                </div>
            </div>

            <div class="col-lg-7" data-aos="fade-left">
                <div class="contact-form-card">
                    <div class="form-header-inner">
                        <h3>Envie sua Mensagem</h3>
                        <p>Preencha os campos abaixo. Seus dados estão protegidos.</p>
                    </div>

                    {% include '_flashes.html' %}

                    <form method="POST" action="{{ url_for('main.pagina_contato') }}" class="needs-validation" novalidate>
                        {{ form.hidden_tag() }}

                        <div class="row g-4">
                            <div class="col-md-6">
                                <div class="form-floating-custom">
                                    {{ form.name(class="form-control-custom", placeholder="Seu Nome") }}
                                    <label class="floating-label">Nome Completo</label>
                                    {% if form.name.errors %}
                                        <div class="text-danger small mt-1">{{ form.name.errors[0] }}</div>
                                    {% endif %}
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-floating-custom">
                                    {{ form.email(class="form-control-custom", placeholder="Seu E-mail") }}
                                    <label class="floating-label">E-mail Profissional</label>
                                    {% if form.email.errors %}
                                        <div class="text-danger small mt-1">{{ form.email.errors[0] }}</div>
                                    {% endif %}
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-floating-custom select-wrapper">
                                    <select class="form-control-custom" name="subject_visual" id="subject_visual">
                                        <option value="" disabled selected>Selecione o Assunto</option>
                                        <option value="consulta">Agendar Consulta</option>
                                        <option value="juridico">Dúvida Jurídica</option>
                                        <option value="parceria">Proposta de Parceria</option>
                                        <option value="outro">Outros</option>
                                    </select>
                                    <i class="bi bi-chevron-down select-arrow"></i>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-floating-custom">
                                    {{ form.message(class="form-control-custom", rows="5", placeholder="Sua Mensagem", style="height: 150px;") }}
                                    <label class="floating-label">Como podemos ajudar?</label>
                                    {% if form.message.errors %}
                                        <div class="text-danger small mt-1">{{ form.message.errors[0] }}</div>
                                    {% endif %}
                                </div>
                            </div>

                            <div class="col-12">
                                <button type="submit" class="btn-submit-contact">
                                    <span>Enviar Solicitação</span>
                                    <i class="bi bi-send-fill ms-2"></i>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
</section>

{% include 'home/_map_section.html' %}

<style>
    /* --- VARIÁVEIS LOCAIS (Adaptive System) --- */
    .contact-universal-wrapper {
        --ct-bg: var(--prm-bg-light, #f9f9f9);
        --ct-card-bg: #ffffff;
        --ct-text: #333;
        --ct-text-muted: #666;
        --ct-accent: var(--prm-accent-red, #b92027);
        --ct-border: #e0e0e0;
        --ct-radius: 16px;
        --ct-shadow: 0 15px 40px rgba(0,0,0,0.05);
        --ct-input-bg: #f8f9fa;
    }

    /* Option 2 (Titan/Corporate) */
    body.option2 .contact-universal-wrapper {
        --ct-card-bg: #fff;
        --ct-radius: 4px;
        --ct-accent: #002F49;
        --ct-shadow: 0 5px 15px rgba(0,0,0,0.08);
    }

    /* Option 3 (Boutique) */
    body.option3 .contact-universal-wrapper {
        --ct-bg: #F9F7F2;
        --ct-card-bg: #fff;
        --ct-accent: #D4AF37;
        --ct-radius: 8px;
        --ct-shadow: 0 20px 50px rgba(212, 175, 55, 0.1);
    }

    /* Option 4 (Tech) & Dark Mode */
    body.option4 .contact-universal-wrapper,
    body.dark-mode .contact-universal-wrapper,
    [data-theme="dark"] .contact-universal-wrapper {
        --ct-bg: transparent;
        --ct-card-bg: rgba(255, 255, 255, 0.03);
        --ct-text: #f1f1f1;
        --ct-text-muted: #aaa;
        --ct-border: rgba(255, 255, 255, 0.1);
        --ct-input-bg: rgba(0, 0, 0, 0.2);
        --ct-shadow: 0 15px 40px rgba(0,0,0,0.3);
        --ct-accent: var(--prm-accent-red, #b92027);
    }

    /* --- ESTRUTURA --- */
    .contact-universal-wrapper {
        padding: 80px 0;
        background-color: var(--ct-bg);
    }

    /* Card de Informações (Esquerda) */
    .contact-info-card {
        background: var(--ct-card-bg);
        border-radius: var(--ct-radius);
        padding: 40px;
        height: 100%;
        border: 1px solid var(--ct-border);
        box-shadow: var(--ct-shadow);
    }

    .info-title {
        font-family: var(--font-heading, serif);
        font-size: 1.8rem; color: var(--ct-text);
        margin-bottom: 15px; font-weight: 700;
    }
    .info-desc {
        font-size: 1rem; color: var(--ct-text-muted);
        line-height: 1.6; margin-bottom: 40px;
    }

    .info-item {
        display: flex; gap: 20px; margin-bottom: 30px;
    }
    .icon-box {
        width: 50px; height: 50px;
        background: rgba(0,0,0,0.05); /* Neutro */
        color: var(--ct-accent);
        border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        font-size: 1.3rem; flex-shrink: 0;
        transition: 0.3s;
    }
    /* Adaptação ícone dark */
    body.dark-mode .icon-box, body.option4 .icon-box { background: rgba(255,255,255,0.1); }

    .contact-info-card:hover .icon-box {
        background: var(--ct-accent); color: #fff;
    }

    .label {
        font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px;
        color: var(--ct-text-muted); font-weight: 700; display: block; margin-bottom: 5px;
    }
    .value {
        font-size: 1.05rem; color: var(--ct-text); font-weight: 500; margin: 0;
        line-height: 1.4;
    }
    .hover-accent:hover { color: var(--ct-accent) !important; }

    .hours-box {
        background: rgba(0,0,0,0.03);
        padding: 15px; border-radius: 8px;
        color: var(--ct-text-muted); font-size: 0.9rem;
        display: inline-flex; align-items: center;
    }
    body.dark-mode .hours-box { background: rgba(255,255,255,0.05); }

    .social-btn {
        width: 40px; height: 40px; border-radius: 50%;
        background: transparent; border: 1px solid var(--ct-border);
        color: var(--ct-text); display: inline-flex; align-items: center; justify-content: center;
        margin-right: 10px; transition: 0.3s;
    }
    .social-btn:hover { background: var(--ct-accent); color: #fff; border-color: var(--ct-accent); }

    /* Card Formulário (Direita) */
    .contact-form-card {
        background: var(--ct-card-bg);
        border-radius: var(--ct-radius);
        padding: 40px;
        box-shadow: var(--ct-shadow);
        border: 1px solid var(--ct-border);
        /* Destaque sutil */
        border-top: 4px solid var(--ct-accent);
    }

    .form-header-inner h3 {
        font-family: var(--font-heading, serif);
        font-size: 1.5rem; color: var(--ct-text); margin-bottom: 5px;
    }
    .form-header-inner p {
        font-size: 0.9rem; color: var(--ct-text-muted); margin-bottom: 30px;
    }

    /* Inputs Customizados */
    .form-floating-custom { position: relative; }
    
    .form-control-custom {
        width: 100%;
        background: var(--ct-input-bg);
        border: 1px solid transparent;
        border-bottom: 2px solid var(--ct-border);
        border-radius: 4px 4px 0 0;
        padding: 25px 15px 10px;
        color: var(--ct-text);
        font-size: 1rem;
        transition: 0.3s;
        resize: none; /* Para textarea */
    }
    
    .form-control-custom:focus {
        outline: none;
        background: var(--ct-card-bg); /* Fica "branco" no foco */
        border-bottom-color: var(--ct-accent);
        box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    }
    
    .floating-label {
        position: absolute; top: 18px; left: 15px;
        font-size: 0.95rem; color: var(--ct-text-muted);
        pointer-events: none; transition: 0.2s;
    }
    
    .form-control-custom:focus ~ .floating-label,
    .form-control-custom:not(:placeholder-shown) ~ .floating-label {
        top: 5px; left: 15px; font-size: 0.75rem; color: var(--ct-accent); font-weight: 700;
    }

    /* Select */
    .select-wrapper { position: relative; }
    .select-arrow {
        position: absolute; right: 15px; top: 20px;
        color: var(--ct-text-muted); pointer-events: none;
    }

    /* Botão Submit */
    .btn-submit-contact {
        width: 100%;
        padding: 16px;
        background: var(--ct-accent);
        color: #fff;
        border: none; border-radius: 8px;
        font-weight: 700; text-transform: uppercase; letter-spacing: 1px;
        transition: 0.3s;
        margin-top: 10px;
    }
    
    /* Ajuste para Option 2 (Texto Escuro no botão claro se necessário) */
    /* Mas geralmente accent é escuro no Option 2 (Navy), então texto branco ok */
    
    .btn-submit-contact:hover {
        filter: brightness(1.1);
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    }

    /* Responsividade */
    @media (max-width: 991px) {
        .contact-universal-wrapper { padding: 60px 0; }
        .contact-info-card { margin-bottom: 0; }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const select = document.getElementById('subject_visual');
        if(select) {
            select.addEventListener('change', function() {
                this.classList.add('has-value');
            });
        }
    });
</script>

{% endblock %}